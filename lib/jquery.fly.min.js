/* fly - v1.0.0 - 2014-12-22
* https://github.com/amibug/fly
* Copyright (c) 2014 wuyuedong; Licensed MIT */!function(b){b.fly=function(a,g){var h={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:b.noop},i=this,j=b(a);i.init=function(c){this.setOptions(c),!!this.settings.autoPlay&&this.play()},i.setOptions=function(d){this.settings=b.extend(!0,{},h,d);var f=this.settings,n=f.start,o=f.end;j.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=o.width&&null!=o.height&&b.extend(!0,n,{width:j.width(),height:j.height()});var p=Math.min(n.top,o.top)-Math.abs(n.left-o.left)/3;p<f.vertex_Rtop&&(p=Math.min(f.vertex_Rtop,Math.min(n.top,o.top)));var q=Math.sqrt(Math.pow(n.top-o.top,2)+Math.pow(n.left-o.left,2)),r=Math.ceil(Math.min(Math.max(Math.log(q)/.05-75,30),100)/f.speed),s=n.top==p?0:-Math.sqrt((o.top-p)/(n.top-p)),t=(s*n.left-o.left)/(s-1),u=o.left==t?0:(o.top-p)/Math.pow(o.left-t,2);b.extend(!0,f,{count:-1,steps:r,vertex_left:t,vertex_top:p,curvature:u})},i.play=function(){this.move()},i.move=function(){var f=this.settings,n=f.start,o=f.count,p=f.steps,q=f.end,r=n.left+(q.left-n.left)*o/p,s=0==f.curvature?n.top+(q.top-n.top)*o/p:f.curvature*Math.pow(r-f.vertex_left,2)+f.vertex_top;if(null!=q.width&&null!=q.height){var t=p/2,u=q.width-(q.width-n.width)*Math.cos(t>o?0:(o-t)/(p-t)*Math.PI/2),v=q.height-(q.height-n.height)*Math.cos(t>o?0:(o-t)/(p-t)*Math.PI/2);j.css({width:u+"px",height:v+"px","font-size":Math.min(u,v)+"px"})}j.css({left:r+"px",top:s+"px"}),f.count++;var w=window.requestAnimationFrame(b.proxy(this.move,this));o==p&&(window.cancelAnimationFrame(w),f.onEnd.apply(this))},i.destory=function(){j.remove()},i.init(g)},b.fn.fly=function(a){return this.each(function(){void 0==b(this).data("fly")&&b(this).data("fly",new b.fly(this,a))})}}(jQuery);
//@ sourceMappingURL=jquery.fly.min.js.map