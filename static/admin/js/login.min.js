/* -----------贝安港后台登录------------
 * login.js v1
 * http://www.encorehe.com/
 * Created & Modified by hejiachao
 * Date modified 2016-02.05
 *
 * Copyright 2013-2016 武汉缘诚科技 All rights reserved.
 * Licensed under MIT license.
 * http://opensource.org/licenses/MIT
 *
 */var getCookie=function(){var c=$.cookie("bag-userName"),b=$.cookie("bag-upwd");void 0!=c&&void 0!=b&&($("#userName").val(c),$("#password").val(b),$('input[type\x3d"checkbox"]').attr("checked",!0))},setCookie=function(){$('input[type\x3d"checkbox"]').on("click",function(){if(this.checked){var c=$("#userName").val(),b=$("#password").val();""!=c&&""!=b&&($.cookie("bag-userName",c,{expires:30}),$.cookie("bag-upwd",b,{expires:30}),alert("\u4fdd\u5b58\u6210\u529f"))}else alert(0)})};$(function(){$(".input-text").eq(0).focus();getCookie();setCookie();var c=$(".J-login"),b=$(".J-submit");c.submit(function(a){a.preventDefault()});b.on("click",function(a){$(this).hasClass("loadingBtn")&&a.preventDefault()});c.Validform({tiptype:function(a,b,c){if(!b.obj.is("form")){var d=b.obj.next().find(".Validform_checktip");c(d,b.type);d.text(a);a=b.obj.next();2==b.type?a.fadeOut(200):a.is(":visible")||a.css({right:0,top:-45}).show().animate({top:-35},200)}},callback:function(){e()}});var e=function(){var a=_configbase.login,c=$(".J-login").serializeArray();common.ajaxFun(a,c,function(){b.val("\u767b\u5f55\u4e2d");b.addClass("loadingBtn")},function(){f(ajaxData)},function(){},function(){d()})},d=function(){b.val("\u767b\u5f55");b.removeClass("loadingBtn");layer.closeAll()},f=function(a){0==a.success?common.layerMsg("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef!",2,function(){d()}):(id=a.data.id,user=a.data.userName,role=a.data.roleName,roleId=a.data.roleId,coder=a.data.code,"CG"!=coder&&"Dl"!=coder&&(schoolName=a.data.schoolName,schoolId=a.data.schoolId,$.cookie("bag-school",schoolName,{expires:30}),$.cookie("bag-schoolId",schoolId,{expires:30})),$.cookie("bag-user",user,{expires:30}),$.cookie("bag-user-id",id,{expires:30}),$.cookie("bag-role",role,{expires:30}),$.cookie("bag-code",coder,{expires:30}),$.cookie("bag-roleId",roleId,{expires:30}),location.replace("home.html"))}});
//@ sourceMappingURL=login.min.js.map