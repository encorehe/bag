options=[];var bag={_init:function(){var a=$attendanceRules;common.powerFlag(temD[0].power);var f=[{title:"\u73ed\u7ea7",name:"className",width:100,align:"center",renderer:function(d,a){null==d&&(d="\u5168\u90e8\u73ed\u7ea7");return d}},{title:"\u7c7b\u578b",name:"type",width:100,align:"center",renderer:function(d,a){var e="";switch(d){case 1:e="\u6559\u804c\u5de5";break;case 2:e="\u73ed\u7ea7"}return e}},{title:"\u4e0a\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4",name:"punchInStart",width:100,align:"center"},{title:"\u4e0a\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u65f6\u95f4",name:"punchInEnd",width:100,align:"center"},{title:"\u653e\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4",name:"punchOutStart",width:100,align:"center"},{title:"\u653e\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u65f6\u95f4",name:"punchOutEnd",width:100,align:"center"},{title:"\u64cd\u4f5c",width:80,align:"center",renderer:function(d,a){btnsHtml="\x3ca class\x3d'iconfont J-info' href\x3d'javascript:void(0);' title\x3d'\u8be6\u60c5'\x3e\x26#xe61c;\x3c/a\x3e";editFlagS&&(btnsHtml+="\x3ca class\x3d'iconfont J-edit' href\x3d'javascript:void(0);' title\x3d'\u7f16\u8f91'\x3e\x26#xe61a;\x3c/a\x3e");delFlag&&(btnsHtml+="\x3ca class\x3d'iconfont J-del' href\x3d'javascript:void(0);' title\x3d'\u5220\u9664'\x3e\x26#xe617;\x3c/a\x3e");return"\x3cspan class\x3d'table-action'\x3e"+btnsHtml+"\x3c/span\x3e"}}],b=common.getCode();1!=b&&2!=b&&3!=b||f.splice(0,0,{title:"\u5b66\u6821",name:"schoolName",width:90,align:"center"});var g=function(){var a=$(".layui-layer .J-type");a.on("change",function(){var a=$(".layui-layer .J-school"),d=$(".layui-layer .J-class");a.empty();d.empty();var a=$(this),a=parseInt(a.val()),d=$(".layui-layer .J-type1a"),c=$(".layui-layer .J-type1b"),e=$(".layui-layer .J-type1c"),b=$(".layui-layer .J-type1d");d.text("\u4e0a\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4");c.text("\u4e0a\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u65f6\u95f4");e.text("\u653e\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4");b.text("\u653e\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u59cb\u65f6\u95f4");1==a?h():k()});a.change();var a=$(".layui-layer .J-inStart"),c=$(".layui-layer .J-inEnd"),e=$(".layui-layer .J-outStart"),b=$(".layui-layer .J-outEnd");a.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",maxDate:"#F{$dp.$D('punchInEnd')||'12:00:00'}"})});c.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",minDate:"#F{$dp.$D('punchInStart')}",maxDate:"12:00:00"})});e.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",minDate:"#F{$dp.$D('punchInEnd')||'12:00:00'}",maxDate:"#F{$dp.$D('punchOutEnd')||'23:59:00'}"})});b.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",minDate:"#F{$dp.$D('punchOutStart')}",maxDate:"23:59:00"})})},h=function(){var a=$(".layui-layer .J-school");common.codeFlag(function(){var c={page:0,count:0};"zengjia"==zhuangtaiTag?common.getSchoolItem(a,c,1):common.getSchoolItem(a,c,1,function(){},{schoolId:datasCur.schoolId,schoolName:dataCur.schoolName})},function(){a.text($(".J-sc").text())})},k=function(){var a=$(".layui-layer .J-school"),c=$(".layui-layer .J-class");common.codeFlag(function(){"zengjia"==zhuangtaiTag?common.getSchoolAndClassItem(a,1,c):common.getSchoolAndClassItem(a,1,c,1,function(){},{schoolId:datasCur.schoolId,schoolName:datasCur.schoolName},{classId:datasCur.classId,className:datasCur.className})},function(){a.text($(".J-sc").text());var b={page:0,count:0};"zengjia"==zhuangtaiTag?common.getClass(c,1,b):common.getClass(c,1,b,function(){},{classId:datasCur.classId,className:datasCur.className})})};options.push({tpl:{edit:"editTpl",chk:"chkTpl",add:"addTpl"},url:{edit:a.edit.url,add:a.add.url,del:a.del.url,list:a.list.url},area:{edit:a.edit.area,add:a.add.area,del:a.del.area,chk:a.chk.area},title:{edit:a.edit.title,add:a.add.title,del:a.del.title,chk:a.chk.title,titleStart:a.del.titleStart,titleEnd:a.del.titleEnd},callback:{add:function(){g()},edit:function(){g()},chk:function(){}},mmg:{indexCol:!0,checkCol:!0,root:"list"}});bag._do(f,options)},_do:function(a,f){var b=function(){bag.searchRest();common.creatSearch();void 0==mmg||null==mmg?mainCont.getList(a,f):(common.creatSearch(),mmg.load(_dataParams))};common.codeFlag(function(){var a=$(".action .J-schools"),f=$(".action .J-classs");common.getSchoolAndClassItem(a,0,f,0,function(){_dataParams.page=1;b()})},function(){var a=$(".J-classs");common.getClass(a,0,{page:0,count:0},b)})},searchRest:function(){$("#isUse").val("");$("#keyWords").val("")}};bag._init();
//@ sourceMappingURL=yey-kaoqin.min.js.map