options=[];var bag={_init:function(){var c=$attendances;common.powerFlag(temD[1].power);var f=[{title:"\u59d3\u540d",name:"teacherId",width:100,align:"center",renderer:function(d,b){var a="";return a=0==d?b.kidName:b.teacherName}},{title:"\u6253\u5361\u4eba\u7c7b\u578b",name:"teacherId",width:100,align:"center",renderer:function(d,b){var a="";return a=0==b.teacherId?"\u5b66\u751f":"\u8001\u5e08"}},{title:"\u661f\u671f",name:"day",width:100,align:"center",renderer:function(d,b){var a="";switch(d){case 1:a="\u661f\u671f\u4e00";break;case 2:a="\u661f\u671f\u4e8c";break;case 3:a="\u661f\u671f\u4e09";break;case 4:a="\u661f\u671f\u56db";break;case 5:a="\u661f\u671f\u4e94";break;case 6:a="\u661f\u671f\u516d";break;case 7:a="\u661f\u671f\u65e5"}return a}},{title:"\u8003\u52e4\u72b6\u6001",name:"attendanceType",width:100,align:"center",renderer:function(d,b){var a="";null==d&&(d=0);switch(d){case 0:a="\u672a\u5230\u6821";break;case 1:a="\u5230\u6821";break;case 2:a="\u75c5\u5047";break;case 3:a="\u4e8b\u5047"}return a}},{title:"\u5230\u6821\u65f6\u95f4",name:"comeTime",width:100,align:"center"},{title:"\u79bb\u6821\u65f6\u95f4",name:"goTime",width:100,align:"center"}],e=common.getCode();1!=e&&2!=e&&3!=e||f.splice(0,0,{title:"\u5b66\u6821",name:"schoolName",width:90,align:"center"});var h=function(){var d=$(".J-qjItem"),b=parseInt($(".J-person").val());objLi=d.find("a");1==b?d.append('\x3cinput type\x3d"hidden" name\x3d"teacherId" id\x3d"teacherId" value\x3d"" datatype\x3d"*" /\x3e'):d.append('\x3cinput type\x3d"hidden" name\x3d"kidId" id\x3d"kidId" value\x3d"" datatype\x3d"*" /\x3e');objLi.on("click",function(){var a=$(this);kidId="";a.hasClass("active")||(objLi.removeClass("active"),a.addClass("active"),Id=a.data("id"),1==b?d.find('input[name\x3d"teacherId"]').val(Id):d.find('input[name\x3d"kidId"]').val(Id))})},g=function(){var d=$(".J-qj");common.codeFlag(function(){var b=template("tplQj",{person:1});d.html(b);eleSc=$(".J-eleSchool");empty=1;b={page:0,count:0};b={page:0,count:0};common.getSchoolItem(eleSc,b,empty,function(){var a=$(".J-qjItem"),b={schoolId:eleSc.find("select").val()};common.getWorkers("tplList",a,b,function(){h()})})},function(){})},k=function(){var d=$(".J-qj");common.codeFlag(function(){var b=template("tplQj",{person:2});d.html(b);eleSc=$(".J-eleSchool");empty=1;common.getSchoolItem(eleSc,empty,function(){var a=$(".J-classItem"),b={schoolId:a.find("select").val()};common.getClass(a,b,function(){var a=$(".J-qjItem"),b={classId:$(".J-classItem select").val()};common.getBaby("tplList",b,a)})})},function(){})};options.push({tpl:{edit:"editTpl",chk:"chkTpl",add:"addTpl"},url:{edit:c.edit.url,add:c.add.url,del:c.del.url,list:c.list.url},area:{edit:c.edit.area,add:c.add.area,del:c.del.area,chk:c.chk.area},title:{edit:c.edit.title,add:c.add.title,del:c.del.title,chk:c.chk.title,titleStart:c.del.titleStart,titleEnd:c.del.titleEnd},callback:{add:function(){common.layerDateYYMM($(".J-date"));g();$(".J-person").on("change",function(){switch($(this).val()){case "1":g();break;case "2":k()}})},edit:function(){var d=function(){var b=$(".J-inStart"),a=$(".J-inEnd");_objoutStart=$(".J-outStart");_objoutEnd=$(".J-outEnd");b.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",maxDate:"#F{$dp.$D('punchInEnd')||'12:00:00'}"})});a.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",minDate:"#F{$dp.$D('punchInStart')}",maxDate:"12:00:00"})});_objoutStart.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",minDate:"#F{$dp.$D('punchInEnd')||'12:00:00'}",maxDate:"#F{$dp.$D('punchOutEnd')||'23:59:00'}"})});_objoutEnd.on("focus",function(){WdatePicker({skin:"whyGreen",dateFmt:"HH:mm:ss",minDate:"#F{$dp.$D('punchOutStart')}",maxDate:"23:59:00"})})};common.codeFlag(function(){d();var b=$(".J-schoolAdd"),a=$(".J-classAdd"),c=$(".J-type1a"),e=$(".J-type1b"),f=$(".J-type1c"),g=$(".J-type1d");common.getSchoolAndClass(b,a,function(){},[],0);setTimeout(function(){var b=a.html();a.empty();$(".J-type").on("change",function(){thv=$(this).val();"2"==thv?(a.html(b),c.text("\u4e0a\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),e.text("\u4e0a\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u65f6\u95f4"),f.text("\u4e0b\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),g.text("\u4e0b\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u59cb\u65f6\u95f4")):(a.empty(),c.text("\u4e0a\u73ed\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),e.text("\u4e0a\u73ed\u6253\u5361\u6709\u6548\u7ed3\u675f\u65f6\u95f4"),f.text("\u4e0b\u73ed\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),g.text("\u4e0b\u73ed\u6253\u5361\u6709\u6548\u7ed3\u675f\u59cb\u65f6\u95f4"))})},100)},function(){var b=$(".J-schoolAdd"),a=$(".J-classAdd"),c={schoolId:$.cookie("bag-schoolId")};b.text($.cookie("bag-school"));eleA=$(".J-type1a");eleB=$(".J-type1b");eleC=$(".J-type1c");eleD=$(".J-type1d");c={page:0,count:0};common.getClass(a,1,c,function(){var b=a.html();a.empty();$(".J-type").on("change",function(){thv=$(this).val();"2"==thv?(a.html(b),eleA.text("\u4e0a\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),eleB.text("\u4e0a\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u65f6\u95f4"),eleC.text("\u4e0b\u5b66\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),eleD.text("\u4e0b\u5b66\u6253\u5361\u6709\u6548\u7ed3\u675f\u59cb\u65f6\u95f4")):(a.empty(),eleA.text("\u4e0a\u73ed\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),eleB.text("\u4e0a\u73ed\u6253\u5361\u6709\u6548\u7ed3\u675f\u65f6\u95f4"),eleC.text("\u4e0b\u73ed\u6253\u5361\u6709\u6548\u5f00\u59cb\u65f6\u95f4"),eleD.text("\u4e0b\u73ed\u6253\u5361\u6709\u6548\u7ed3\u675f\u59cb\u65f6\u95f4"))})});d()})},chk:function(){}},mmg:{indexCol:!0,checkCol:!1,root:"list"},resetFun:{add:resetFunAdd,edit:resetFunEdit}});bag._do(f,options)},_do:function(c,f){var e=function(){bag.searchRest();common.creatSearch();void 0!=mmg&&null!=mmg||mainCont.getList(c,f);$('select[name\x3d"classId"]').on("change",function(){common.creatSearch();mmg.load(_dataParams)})};common.codeFlag(function(){common.getSchoolAndClass($(".J-schools"),$(".J-classs"),e)},function(){common.getClass(ele,{},e)})},searchRest:function(){$("#isUse").val("");$("#keyWords").val("")}};bag._init();
//@ sourceMappingURL=yey-kaoqinjilu.min.js.map