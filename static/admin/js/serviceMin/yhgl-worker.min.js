options=[];var bag={_init:function(){var a=$teachers;common.powerFlag(temD[1].power);var c=[{title:"\u5934\u50cf",name:"icon",width:46,align:"center",renderer:function(b,e){var a="";return a=null==b||""==b?null==e.gender||1==e.gender?"\x3cspan class\x3d'avatarMan'\x3e\u7537\x3c/span\x3e":"\x3cspan class\x3d'avatarWomen'\x3e\u5973\x3c/span\x3e":"\x3cspan class\x3d'imgPhoto'\x3e\x3cimg src\x3d'"+b+"'  width\x3d'36px' height\x3d'36px' /\x3e\x3c/span\x3e"}},{title:"\u7528\u6237\u540d",name:"telephone",width:120,align:"center"},{title:"\u59d3\u540d/\u82f1\u6587\u540d",name:"name",width:100,align:"center",renderer:function(b,a){var c=a.enName,d=a.name;return""==d&&""==c?"\u672a\u8f93\u5165":""==c||null==c?d:""==d||null==d?c:d+"/"+c}},{title:"\u6027\u522b",name:"gender",width:30,align:"center",renderer:function(b){null==b&&(b=1);return sex=1==b?"\u7537":"\u5973"}},{title:"\u89d2\u8272\u540d",name:"roleName",width:60,align:"center"},{title:"\u72b6\u6001",name:"isUse",width:30,align:"center",renderer:function(b){null==b&&(b=1);return state=1==b?"\u221a":"X"}},{title:"\u624b\u673a",name:"telephone",width:90,align:"center"},{title:"\u95e8\u7981\u5361",name:"rfId",width:100,align:"center"},{title:"\u77ed\u4fe1\u53d1\u9001\u6a21\u5f0f",name:"smsSendMode",width:100,align:"center",renderer:function(b){null==b&&(b=1);return state=0==b?"\u4e0d\u53d1":1==b?"\u53ca\u65f6\u53d1\u9001":"\u9700\u8981\u5ba1\u6838"}},{title:"\u52a0\u5165\u65f6\u95f4",name:"insertDate",width:60,align:"center"},{title:"\u64cd\u4f5c",width:120,name:"code",align:"center",renderer:function(b,a){delBtnsEnd="\x3ca class\x3d'iconfont J-tingyong' href\x3d'javascript:void(0);' title\x3d'\u505c\u7528'\x3e\x26#xe625;\x3c/a\x3e";delBtnsStart="\x3ca class\x3d'iconfont J-qiyong' data-id\x3d'1' href\x3d'javascript:void(0);' title\x3d'\u542f\u7528'\x3e\x26#xe630;\x3c/a\x3e";fenbanBtn="\x3ca class\x3d'iconfont J-classAdd' data-id\x3d'1' href\x3d'javascript:void(0);' title\x3d'\u5206\u73ed'\x3e\x26#xe63d;\x3c/a\x3e";btnsHtml="\x3ca class\x3d'iconfont J-info' href\x3d'javascript:void(0);' title\x3d'\u8be6\u60c5'\x3e\x26#xe61c;\x3c/a\x3e";btnsHtml=0==a.isUse?btnsHtml+delBtnsStart:btnsHtml+delBtnsEnd;editFlagS&&(btnsHtml+="\x3ca class\x3d'iconfont J-edit' href\x3d'javascript:void(0);' title\x3d'\u7f16\u8f91'\x3e\x26#xe61a;\x3c/a\x3e\x3ca class\x3d'iconfont J-resetPwd' href\x3d'javascript:void(0);' title\x3d'\u91cd\u7f6e\u5bc6\u7801'\x3e\x26#xe600;\x3c/a\x3e"+fenbanBtn);delFlag&&(btnsHtml+="");return"\x3cspan class\x3d'table-action'\x3e"+btnsHtml+"\x3c/span\x3e"}}],d=common.getCode();1!=d&&2!=d&&3!=d||c.splice(3,0,{title:"\u5b66\u6821",name:"schoolName",width:90,align:"center"});options.push({tpl:{edit:"editTpl",chk:"chkTpl",add:"addTpl"},url:{edit:a.edit.url,add:a.add.url,del:a.del.url,list:a.list.url,resetPwdUrl:a.list.url},area:{edit:a.edit.area,add:a.add.area,del:a.del.area,chk:a.chk.area},title:{edit:a.edit.title,add:a.add.title,del:a.del.title,chk:a.chk.title,titleStart:a.del.titleStart,titleEnd:a.del.titleEnd},callback:{add:function(){common.codeFlag(function(){var b=$(".J-school"),a=$(".J-gangwei");common.getSchoolAndRoleItem(b,{page:0,count:0},1,a,function(){})},function(){var b=$(".layui-layer .J-gangwei");$(".layui-layer .J-school").text($(".J-sc").text());common.getRoles(b,{})})},edit:function(){var b=$(".J-school");$(".J-class");$(".J-gangwei");common.codeFlag(function(){var b=$(".J-school"),a=$(".J-gangwei");common.getSchoolAndRoleItem(b,{page:0,count:0},1,a,function(){},{schoolId:datasCur.schoolId,schoolName:datasCur.schoolName},{roleId:datasCur.roleId,roleName:datasCur.roleName})},function(){var a=$(".layui-layer .J-gangwei"),c={roleId:datasCur.roleId,roleName:datasCur.roleName};b=$(".layui-layer .J-school");b.text($(".J-sc").text());common.getRoles(a,{},function(){},c)})},chk:function(){var b=$(".J-school"),a=$(".J-class");b.text($(".J-schools select option:selected").text());a.text($(".J-classs select option:selected").text());$(".layui-layer-btn").remove()}},mmg:{indexCol:!0,checkCol:!0,root:"list"}});bag._do(c,options)},_do:function(a,c){var d=function(){bag.searchRest();common.creatSearch();void 0==mmg||null==mmg?mainCont.getList(a,c):mmg.load(_dataParams);mmg.on("loadSuccess",function(){bag.mmgSelects()})};common.codeFlag(function(){var b=$(".J-schools");common.getSchoolItem(b,{page:0,count:0},0,d)},function(){$(".J-schools").remove();d()})},mmgSelects:function(){mmg.on("cellSelected",function(a,c,d,b){datasCur=c;if($(a.target).is(".J-classAdd")){a.stopPropagation();datasCur=c;mmg.select(d);var e=datasCur.id;area=["715px","50%"];title=c.schoolName+"--"+c.name+"\u7684\u4fe1\u606f";content=template("tplCard",c);successBack=function(){$(".layui-layer-btn").remove();bag.getTeacherClass(e)};common.layerConfirm(title,area,content,successBack)}})},getTeacherClass:function(a){var c=$("#mmgJhr"),d=$("#paginatorJhr");bag.creatMmg(c,{indexCol:!0,checkCol:!0,it:[{title:"\u6559\u5e08\u59d3\u540d",name:"teachersName",width:120,align:"center"},{title:"\u4ee3\u8bfe\u73ed\u7ea7",name:"className",width:46,align:"center"},{title:"\u64cd\u4f5c",width:100,align:"center",renderer:function(b,a){return"\x3cspan class\x3d'table-action'\x3e\x3ca style\x3d'display:none;' class\x3d'iconfont J-editCard' href\x3d'javascript:void(0);' title\x3d'\u7f16\u8f91'\x3e\x26#xe61a;\x3c/a\x3e\x3ca class\x3d'iconfont J-delCard' href\x3d'javascript:void(0);' title\x3d'\u5220\u9664'\x3e\x26#xe617;\x3c/a\x3e\x3c/span\x3e"}}],params:{teacherId:a},url:$teacherClasses.list.url},d,function(b,a,c,d){if($(b.target).is(".J-editCard")){var f=datasCur.schoolId;common.ajaxSubmitV($classes.list.url,{schoolId:f},function(){var b=layer.open({type:1,closeBtn:2,content:template("tplCardForm",{teacherId:datasCur.id,id:a.id}),btn:["\u786e\u5b9a"],area:["700px","350px"],success:function(){var b={schoolId:f},a=$(".layui-layer .J-class");common.getClass(a,1,b,function(){var b=$(".J-Form");common.validformSubmit(b)})},yes:function(){var a=$(".J-Form");common.validformIn(a,function(){var c=a.serialize();common.ajaxFunIframe($teacherClasses.edit.url,c,function(){},function(){1==ajaxData.success&&(layer.close(b),jAlert("\u4fee\u6539\u6210\u529f","\u8d1d\u5b89\u6e2f\u63d0\u793a",function(){tempMmg.load()}))})})}})})}$(b.target).is(".J-delCard")&&(userData={id:a.id},jConfirm("\u662f\u5426\u89e3\u9664\u6b64\u8001\u5e08\u4e0e\u73ed\u7ea7\u7684\u5173\u7cfb?","\u8d1d\u5b89\u6e2f\u63d0\u793a",function(){common.ajaxFunIframe($teacherClasses.del.url,userData,function(){},function(){1==ajaxData.success&&jAlert("\u5220\u9664\u6210\u529f","\u8d1d\u5b89\u6e2f\u63d0\u793a",function(){tempMmg.load()})})}))},function(a,c){});$(".J-cardBtn").unbind("click").on("click",function(a){a.preventDefault();var c=datasCur.schoolId,d=layer.open({type:1,closeBtn:2,content:template("tplCardForm",{teacherId:datasCur.id}),btn:["\u4e0b\u4e00\u6b65"],area:["420px","200px"],success:function(){var a={schoolId:c,page:0,count:0},b=$(".layui-layer .J-class");common.getClass(b,1,a,function(){var a=$(".J-Form");common.validformSubmit(a)})},yes:function(){var a=$(".J-Form");common.validformIn(a,function(){var b=a.serialize();common.ajaxFunIframe($teacherClasses.add.url,b,function(){},function(){1==ajaxData.success&&jAlert("\u6dfb\u52a0\u6210\u529f","\u8d1d\u5b89\u6e2f\u63d0\u793a",function(){layer.close(d);tempMmg.load()})})})}})})},creatMmg:function(a,c,d,b,e){tempMmg=$(a).mmGrid({multiSelect:!0,indexCol:c.indexCol,checkCol:c.checkCol,indexColWidth:25,cols:c.it,root:"list",width:"auto",height:"auto",fullWidthRows:!0,autoLoad:!0,noDataText:"\u5f53\u524d\u67e5\u8be2\u672a\u83b7\u53d6\u5230\u4efb\u4f55\u4fe1\u606f",url:c.url,items:c.it,cache:!1,sortStatus:"asc",nowrap:!1,method:"post",showBackboard:!1,params:c.params,plugins:[$(d).mmPaginator({style:"plain",totalCountName:"totalCount",page:1,pageParamName:"page",limitParamName:"count",limitLabel:"\u6bcf\u9875{0}\u6761",totalCountLabel:"\u5171\x3cspan\x3e{0}\x3c/span\x3e\u6761\u8bb0\u5f55",limit:c.it,limitList:[20,30,40,50]})]});tempMmg.on("cellSelected",function(a,c,d,e){b&&b(a,c,d,e)}).on("loadSuccess",function(a,b){e&&e(a,b)})},ajaxSubmitV:function(a,c,d){$.ajax({type:"post",url:a,data:c,dataType:"json",success:function(a){ajaxDatas=a;d&&d()}})},searchRest:function(){$("#isUse").val("");$("#gender").val("");$("#keyWords").val("")}};bag._init();
//@ sourceMappingURL=yhgl-worker.min.js.map